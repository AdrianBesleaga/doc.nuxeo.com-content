---
title: How to Upgrade Nuxeo
toc: true
confluence:
    ajs-parent-page-id: '16810051'
    ajs-parent-page-title: Upgrading your Nuxeo Version
    ajs-space-key: ADMINDOC58
    ajs-space-name: Nuxeo Installation and Administration - 5.8
    canonical: How+to+Upgrade+Nuxeo
    canonical_source: 'https://doc.nuxeo.com/display/ADMINDOC58/How+to+Upgrade+Nuxeo'
    page_id: '16810015'
    shortlink: H4AAAQ
    shortlink_source: 'https://doc.nuxeo.com/x/H4AAAQ'
    source_link: /display/ADMINDOC58/How+to+Upgrade+Nuxeo
history:
    - 
        author: Solen Guitter
        date: '2015-11-26 16:20'
        message: 'XDOC-658: Marketplace packages are now called Nuxeo Package'
        version: '64'
    - 
        author: Solen Guitter
        date: '2015-08-28 09:26'
        message: ''
        version: '63'
    - 
        author: Solen Guitter
        date: '2014-01-21 14:32'
        message: Added section about custom code upgrade
        version: '62'
    - 
        author: Solen Guitter
        date: '2013-11-07 14:28'
        message: ''
        version: '61'
    - 
        author: Solen Guitter
        date: '2013-11-07 14:22'
        message: >-
            Page formatting, added link to 5.7.3 upgrade notes and 5.8 release
            notes
        version: '60'
    - 
        author: Solen Guitter
        date: '2013-10-14 17:30'
        message: ''
        version: '59'
    - 
        author: Julien Carsique
        date: '2013-08-12 12:29'
        message: ''
        version: '58'
    - 
        author: Julien Carsique
        date: '2013-08-12 12:21'
        message: ''
        version: '57'
    - 
        author: Julien Carsique
        date: '2013-08-06 17:32'
        message: ''
        version: '56'
    - 
        author: Solen Guitter
        date: '2013-07-02 13:49'
        message: ''
        version: '55'
    - 
        author: Julien Carsique
        date: '2013-07-02 12:31'
        message: ''
        version: '54'
    - 
        author: Julien Carsique
        date: '2013-07-02 12:30'
        message: ''
        version: '53'
    - 
        author: Julien Carsique
        date: '2013-07-02 12:27'
        message: ''
        version: '52'
    - 
        author: Solen Guitter
        date: '2013-07-02 12:14'
        message: ''
        version: '51'
    - 
        author: Solen Guitter
        date: '2013-07-02 12:14'
        message: ''
        version: '50'
    - 
        author: Solen Guitter
        date: '2013-07-02 11:05'
        message: ''
        version: '49'
    - 
        author: Solen Guitter
        date: '2013-07-02 10:54'
        message: ''
        version: '48'
    - 
        author: Solen Guitter
        date: '2013-07-02 10:51'
        message: ''
        version: '47'
    - 
        author: Solen Guitter
        date: '2013-07-02 10:22'
        message: ''
        version: '46'
    - 
        author: Delphine Renevey
        date: '2013-06-13 18:35'
        message: ''
        version: '45'
    - 
        author: Julien Carsique
        date: '2012-10-29 18:16'
        message: ''
        version: '44'
    - 
        author: Anahide Tchertchian
        date: '2012-10-29 17:52'
        message: reference 5.7 upgrade notes
        version: '43'
    - 
        author: Julien Carsique
        date: '2012-10-16 16:42'
        message: upgrade notes 5.6
        version: '42'
    - 
        author: Thierry Martins
        date: '2012-09-04 10:46'
        message: Migrated to Confluence 4.0
        version: '41'
    - 
        author: Thierry Martins
        date: '2012-09-04 10:46'
        message: ''
        version: '40'
    - 
        author: Thierry Martins
        date: '2012-09-03 14:10'
        message: add entry to upgrade to 5.6
        version: '39'
    - 
        author: Solen Guitter
        date: '2012-05-22 17:40'
        message: ''
        version: '38'
    - 
        author: Solen Guitter
        date: '2012-05-22 17:39'
        message: ''
        version: '37'
    - 
        author: Solen Guitter
        date: '2012-05-22 17:39'
        message: ''
        version: '36'
    - 
        author: Solen Guitter
        date: '2012-05-22 17:39'
        message: ''
        version: '35'
    - 
        author: stan
        date: '2012-05-03 19:19'
        message: ''
        version: '34'
    - 
        author: stan
        date: '2012-05-03 19:00'
        message: ''
        version: '33'
    - 
        author: Vladimir Pasquier
        date: '2011-12-16 16:04'
        message: ''
        version: '32'
    - 
        author: Julien Carsique
        date: '2011-12-14 12:39'
        message: ''
        version: '31'
    - 
        author: Julien Carsique
        date: '2011-07-19 17:08'
        message: workflow change was on 5.2
        version: '30'
    - 
        author: Julien Carsique
        date: '2011-06-16 19:00'
        message: Add links to upgrade notes per release version
        version: '29'
    - 
        author: Julien Carsique
        date: '2011-06-16 17:08'
        message: ''
        version: '28'
    - 
        author: Julien Carsique
        date: '2011-06-16 17:07'
        message: ''
        version: '27'
    - 
        author: Julien Carsique
        date: '2011-06-15 14:23'
        message: ''
        version: '26'
    - 
        author: Julien Carsique
        date: '2011-06-15 14:01'
        message: ''
        version: '25'
    - 
        author: Julien Carsique
        date: '2011-06-15 14:00'
        message: ''
        version: '24'
    - 
        author: Julien Carsique
        date: '2011-06-15 14:00'
        message: ''
        version: '23'
    - 
        author: Julien Carsique
        date: '2011-06-15 13:59'
        message: ''
        version: '22'
    - 
        author: Julien Carsique
        date: '2011-06-15 12:26'
        message: ''
        version: '21'
    - 
        author: Julien Carsique
        date: '2011-06-15 12:25'
        message: Review layout and provide details per version
        version: '20'
    - 
        author: Julien Carsique
        date: '2011-06-15 11:07'
        message: ''
        version: '19'
    - 
        author: Solen Guitter
        date: '2011-03-16 16:01'
        message: format
        version: '18'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 14:43'
        message: ''
        version: '17'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 10:27'
        message: ''
        version: '16'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 10:24'
        message: ''
        version: '15'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 10:14'
        message: ''
        version: '14'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 09:14'
        message: ''
        version: '13'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 09:10'
        message: ''
        version: '12'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 08:55'
        message: ''
        version: '11'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 08:51'
        message: ''
        version: '10'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 20:11'
        message: ''
        version: '9'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 20:05'
        message: ''
        version: '8'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 19:21'
        message: ''
        version: '7'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 19:01'
        message: ''
        version: '6'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 18:39'
        message: ''
        version: '5'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 18:23'
        message: ''
        version: '4'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 18:18'
        message: ''
        version: '3'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 18:12'
        message: ''
        version: '2'
    - 
        author: Stéfane Fermigier
        date: '2010-07-21 18:00'
        message: ''
        version: '1'

---
<div class="row"><div class="column medium-8">

&nbsp;

&nbsp;

This document describes a general upgrade procedure, check if your version needs particular action.

See&nbsp;[Upgrading your Nuxeo Version]({{page page='upgrading-your-nuxeo-version'}})&nbsp;for information about Nuxeo policy on development and versions.

## General Upgrade Procedure

[You should have configured Nuxeo with a specific configuration]({{page page='recommended-configurations'}})&nbsp;(and optionally with custom templates), setting a database (for production) and a data directory.&nbsp;In that case, upgrading Nuxeo simply consists in:

1.  Doing a&nbsp;[backup.]({{page page='backup-and-restore'}})
2.  Stopping the old Nuxeo.
3.  Deploying the new distribution.
4.  Updating the environment variables (`NUXEO_HOME`&nbsp;and&nbsp;`NUXEO_CONF`) to make it use your custom configuration, database and data directory.
    To update the `NUXEO_CONF` you should report your custom configuration (uncommented lines in `nuxeo.conf`) into the nuxeo.conf file of the target Nuxeo version, and then replace the old nuxeo.conf file with this new one.
5.  Running&nbsp;`nuxeoctl mp-reset`&nbsp;in order to reset all Nuxeo Packages to the DOWNLOADED state.
6.  Starting the new Nuxeo.

### Upgrade Path

You will find below specific cases and required manual steps per version.&nbsp;Follow them carefully from your current version to the new version. For instance, if upgrading from 5.3.2 to 5.4.2, follow steps about 5.3.2->5.4.0, 5.4.0->5.4.1 and 5.4.1->5.4.2.
If there are no specific instructions, then the upgrade will be smooth. For instance, if upgrading from 5.4.1 to 5.4.2, you have nothing to do unless you are using Oracle.

{{#> callout type='note' heading='Upgrade notes'}}

Although major changes are explicitly documented, it is recommended to look at the upgrade notes before upgrading. Upgrade notes list changes that may affect existing configuration or features after upgrade (changes on parameters, API, default behavior, ...).

{{/callout}}</div><div class="column medium-4">{{#> panel heading='In this section'}}

&nbsp;

{{/panel}}</div></div>

### Data

Following the upgrade path should guarantee a valid database structure once all upgrades are done. Should you have to perform some specific actions, they will be indicated (see [Upgrade from 5.4.1 to 5.4.2 with Oracle]({{page page='upgrade-from-541-to-542-with-oracle'}}) for instance).

If you didn't configure Nuxeo to use a database, then the default database is embedded in the&nbsp;`data`&nbsp;directory.

If you didn't [configure Nuxeo data directory]({{page page='recommended-configurations'}}) (`nuxeo.data.dir`&nbsp;in&nbsp;`nuxeo.conf`), then you have to find the default path which depends on the server (Tomcat/JBoss) and the Nuxeo version (look at the&nbsp;`data`&nbsp;directory value in the Admin Center):

*   With Tomcat, it should be&nbsp;`$TOMCAT/nxserver/data`.

*   With JBoss, it should be&nbsp;`$JBOSS/server/default/data`.

### Custom Code

As explained on the&nbsp;[Upgrading your Nuxeo Version]({{page page='upgrading-your-nuxeo-version'}}) page, we are careful not to break the compatibility between versions. However, since the Platform evolves, you will also need to upgrade your custom code.

So the first step to do so is to identify:

*   The contributions to the extension points you defined: this should be the easiest part because we try to keep compatibility between the versions;
*   The XHTML templates from the Nuxeo Platform you overrode to get a custom behavior: some of these templates may have changed (sometimes a lot if you plan to upgrade several versions up) and you have to identify the modifications you did before in order to apply them to the new version of these Nuxeo templates;
*   The API you used in your custom Java code: some APIs were deprecated, other ones removed (like everything around jBPM).

Then, you have to build your custom plugin against each version of the upgrade path and check if it's running correctly once deployed in a Nuxeo Platform.

<span style="color: rgb(0,0,0);font-size: 20.0px;line-height: 1.5;">To 5.8 from 5.6 or 5.7.x</span>

[5.8 release notes.](http://nuxeo.github.io/releasenotes/5.8/)

[5.7.3 upgrade notes.](https://jira.nuxeo.com/browse/NXP-12299?jql=project%20%3D%20%22NXP%22%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%20%225.7.3%22%20AND%20%28%22Impact%20type%22%20%3D%20%22API%20change%22%20OR%20%22Upgrade%20notes%22%20is%20not%20EMPTY%29%20ORDER%20BY%20component%20ASC%2C%20key%20ASC)

[5.7.2 upgrade notes](https://jira.nuxeo.com/issues/?jql=project%20%3D%20%22NXP%22%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%20%225.7.2%22%20AND%20%28%22Impact%20type%22%20%3D%20%22API%20change%22%20OR%20%22Upgrade%20notes%22%20is%20not%20EMPTY%29%20ORDER%20BY%20component%20ASC%2C%20key%20ASC)[.](https://jira.nuxeo.com/issues/?jql=project%20%3D%20%22NXP%22%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%20%225.7.1%22%20AND%20%28%22Impact%20type%22%20%3D%20%22API%20change%22%20OR%20%22Upgrade%20notes%22%20is%20not%20EMPTY%29%20ORDER%20BY%20component%20ASC%2C%20key%20ASC)

[5.7.1 upgrade notes](https://jira.nuxeo.com/issues/?jql=project%20%3D%20%22NXP%22%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%20%225.7.1%22%20AND%20%28%22Impact%20type%22%20%3D%20%22API%20change%22%20OR%20%22Upgrade%20notes%22%20is%20not%20EMPTY%29%20ORDER%20BY%20component%20ASC%2C%20key%20ASC).

See&nbsp;[Upgrade from 5.6 to 5.8]({{page page='upgrade-from-56-to-58'}}).

## To 5.6 from 5.5

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+in+%28%22NXP%22%2C+%22NXCM%22%29+AND+resolution+%3D+Fixed+AND+fixVersion+%3D+%225.6%22+AND+%28%22Impact+type%22+%3D+%22API+change%22+OR+%22Upgrade+notes%22+is+not+EMPTY%29+ORDER+BY+component+DESC%2C+key+DESC).

See&nbsp;[Upgrade from 5.5 to 5.6]({{page page='upgrade-from-55-to-56'}}).

## To 5.5 from 5.4.2

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+in+%28%22NXP%22%2C+%22NXCM%22%29+AND+resolution+%3D+Fixed+AND+fixVersion+%3D+%225.5%22+AND+%28%22Impact+type%22+%3D+%22API+change%22+OR+%22Upgrade+notes%22+is+not+EMPTY%29+ORDER+BY+component+DESC%2C+key+DESC).

See&nbsp;[Upgrade from 5.4.2 to 5.5]({{page page='upgrade-from-542-to-55'}}).

## To 5.4.2 from 5.4.1

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+%21%3D+Unresolved+AND+fixVersion+in+%28%225.4.2%22%2C+%225.4.2-RC1%22%2C+%225.4.2-RC2%22%29+AND+%22Upgrade+notes%22+is+not+EMPTY).

### Oracle

If using Oracle, see [Upgrade to 5.4.2 with Oracle.]({{page page='upgrade-from-541-to-542-with-oracle'}})

## To 5.4.1 from 5.4.0.1

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.4.1%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

## To 5.4.0.1 from 5.4.0

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.4.0.1%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

## To 5.4.0 from 5.3.2

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.4%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

### JBoss

If using the JBoss distribution, see [Upgrade to 5.4 and JBoss 5.]()

### Workflow Feature

The workflow implementation has changed, see [From the old workflow system to the new 5.4 workflow system]({{page page='from-the-old-workflow-system-to-the-new-54-workflow-system'}}).

## To 5.3.2 from 5.3.1

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.3.2%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

See [Upgrade from 5.3.1 to 5.3.2]({{page page='upgrade-from-531-to-532'}}).

### MySQL

If using MySQL, see [Upgrade from 5.3.1 with MySQL to 5.3.2]({{page page='upgrade-from-531-with-mysql-to-532'}}).

## To 5.3.1 from 5.3.0

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.3.1%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

See [Upgrade from 5.3.0 to 5.3.1]({{page page='upgrade-from-530-to-531'}}).

## To 5.3.0 from 5.2.0

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+%21%3D+Unresolved+AND+fixVersion+in+%28%225.3+RC%22%2C+%225.3+GA%22%29+AND+%22Upgrade+notes%22+is+not+EMPTY).

## To 5.2.0 from 5.1.6

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+%21%3D+Unresolved+AND+fixVersion+in+%28%225.2+GA%22%2C+%225.2+GA+SP1%22%2C+%225.2+M1%22%2C+%225.2+M2%22%2C+%225.2+M3%22%2C+%225.2+M4%22%2C+%225.2+RC%22%2C+%225.2+RC1%22%2C+%225.2+RC1+SP1%22%29+AND+%22Upgrade+notes%22+is+not+EMPTY).

If using JCR with PostgreSQL, see [How to migrate a Nuxeo 5.1.6 to Nuxeo 5.2 under JCR+PostgreSQL configuration]({{page page='upgrade-from-516-with-jcr-postgresql-to-520'}}).

## To 5.1.6 from 5.1.3

[Upgrade notes](https://jira.nuxeo.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+NXP+AND+resolution+!%3D+Unresolved+AND+fixVersion+%3D+%225.1.6%22+AND+%22Upgrade+notes%22+is+not+EMPTY).

## To 5.1.3 from 5.1.2

No upgrade notes.

See [Upgrade from 5.1.2 to 5.1.3]({{page page='upgrade-from-512-to-513'}}).

## To 5.1.x from Earlier

1.  First, stop Nuxeo EP and, before any upgrade, always backup (at least)

    *   `$JBOSS/server/default/lib/nuxeo*`
    *   `$JBOSS/server/default/deploy/nuxeo.ear/`
    *   `$JBOSS/server/default/data/`
    *   dump your database(s) if you have any.
2.  If you have specific configuration, back up separately the configuration files in order to easily re-apply them onto the default one (take care not to lose any modification on these files):

    *   `$JBOSS/server/default/deploy/nuxeo.ear/config/`
    *   `$JBOSS/server/default/deploy/nuxeo.ear/datasources/`
    *   `$JBOSS/server/default/deploy/nuxeo.ear/platform/nuxeo-platform-search-compass-plugin*/compass.cfg.xml`
    *   any other JBoss files you could have changed (`mail-service.xml`, etc.).
3.  It could also be useful to back up logs from $JBOSS/server/default/log/.
4.  Move your JBoss directory and replace it with the one coming from the new Nuxeo EP version.
5.  Replace `$JBOSS/server/default/data/` with your backup data.
6.  Apply again you configuration.
7.  Start Nuxeo.