---
title: Ajax Forms and Actions
review:
    comment: ''
    date: ''
    status: ok
labels:
    - ajax
toc: true
confluence:
    ajs-parent-page-id: '17334513'
    ajs-parent-page-title: JSF and Ajax Tips and How-Tos
    ajs-space-key: NXDOC58
    ajs-space-name: 'Nuxeo Platform Developer Documentation - 5.8 '
    canonical: Ajax+Forms+and+Actions
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC58/Ajax+Forms+and+Actions'
    page_id: '17334521'
    shortlink: _YAIAQ
    shortlink_source: 'https://doc.nuxeo.com/x/_YAIAQ'
    source_link: /display/NXDOC58/Ajax+Forms+and+Actions
history:
    - 
        author: Solen Guitter
        date: '2014-01-23 15:39'
        message: ''
        version: '6'
    - 
        author: Solen Guitter
        date: '2013-07-16 09:48'
        message: ''
        version: '5'
    - 
        author: Anahide Tchertchian
        date: '2013-07-15 10:52'
        message: ''
        version: '4'
    - 
        author: Anahide Tchertchian
        date: '2012-02-06 18:50'
        message: Migrated to Confluence 4.0
        version: '3'
    - 
        author: Anahide Tchertchian
        date: '2012-02-06 18:50'
        message: ''
        version: '2'
    - 
        author: Anahide Tchertchian
        date: '2012-02-06 17:57'
        message: ''
        version: '1'

---
<div class="row"><div class="column medium-8">{{! excerpt}}

Here is some helpful tips and tricks when working with Ajax forms or actions.

{{! /excerpt}}

## Generic Advice

Always try to use the Ajax library features to help avoiding multiple calls to the server (ignoreDupResponses, eventsQueue,...), and re-render only needed parts of the page. This will prevent you from experiencing problems like " [I Get an Error When I Click on Two Links Quickly]({{page page='i-get-an-error-when-i-click-on-two-links-quickly'}}).

Ajax4JSF library documentation is available at&nbsp;[http://docs.jboss.org/richfaces/latest_3_3_X/en/tlddoc/a4j/tld-summary.html](http://docs.jboss.org/richfaces/latest_3_3_X/en/tlddoc/a4j/tld-summary.html).

## Submitting the Form When Hitting The "Enter" Key

The browser&nbsp;`form`&nbsp;tag will natively select the first input submit button in the form: be aware that tag&nbsp;`a4j:commandLink`&nbsp;is not one of them, so you should replace it with a&nbsp;`h:commandButton`. You will have to change the form into an Ajax&nbsp;form for the submission to be done in Ajax.

</div><div class="column medium-4">{{#> panel heading='On this page'}}

{{/panel}}

&nbsp;

&nbsp;

</div></div>

## <span style="color: rgb(51,51,51);font-size: 13.0px;line-height: 21.0px;">Here is an example:</span>

```js
<a4j:form id="#{quickFilterFormId}" ajaxSubmit="true"
  reRender="#{elementsToReRender}"
  ignoreDupResponses="true"
  requestDelay="100"
  eventsQueue="contentViewQueue"
  styleClass="action_bar">
  <nxl:layout name="#{contentView.searchLayout.name}" mode="edit"
    value="#{contentView.searchDocumentModel}"
    template="content_view_quick_filter_layout_template.xhtml" />
  <h:commandButton
    value="#{messages['label.contentview.filter.filterAction']}"
    id="submitFilter"
    styleClass="button"
    action="#{contentView.resetPageProvider()}" />
</a4j:form>

```

### Ajax Re-Rendering

If you need to perform some Ajax&nbsp;re-rendering when submitting this button, they'd better be placed directly on the form tag itself: adding a tag `a4j:support`&nbsp;for this inside the `h:commandButton`&nbsp;tag will generates an additional call to the server when using some browsers (visible using Firefox 8.0) and may lead to errors when server is under load.

### Command Button Visibility

Note also that the command button must be visible: if for some reasons you'd like it to be hidden, placing it inside a div using `display: none`&nbsp;will break the submission using some browsers (visible using Chrome 15).

### Disabling Buttons after Form Submission

Last but not least, if you'd like the buttons to be disabled when submitting the form (to make sure people do not keep on clicking on it), they should be disabled by the form itself when the `onsubmit` JavaScript event is launched: if it is disabled when the `onclick` event is received on the button, some browsers will not send the request at all ([visible with Chrome](http://www.google.com/support/forum/p/Chrome/thread?tid=152f74d4890dc84f&hl=en)).

### JavaScript Form Tricks

When the form is not generated by a reusable layout (like in the example above), you can also use more traditional JavaScript tricks to submit the form, like for instance:

```javascript
<h:inputText value="#{searchActions.simpleSearchKeywords}"
  onkeydown="if (event.keyCode == 13) {Element.next(this).click();} else return true;" />
<h:commandButton action="#{searchActions.performSearch}"
  value="#{messages['command.search']}" styleClass="button" />

```