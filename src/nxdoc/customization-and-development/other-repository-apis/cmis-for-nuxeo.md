---
title: CMIS for Nuxeo
review:
    comment: ''
    date: ''
    status: ok
labels:
    - soap
    - cmis
toc: true
confluence:
    ajs-parent-page-id: '17334379'
    ajs-parent-page-title: Other Repository APIs
    ajs-space-key: NXDOC58
    ajs-space-name: 'Nuxeo Platform Developer Documentation - 5.8 '
    canonical: CMIS+for+Nuxeo
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC58/CMIS+for+Nuxeo'
    page_id: '17334344'
    shortlink: SIAIAQ
    shortlink_source: 'https://doc.nuxeo.com/x/SIAIAQ'
    source_link: /display/NXDOC58/CMIS+for+Nuxeo
history:
    - 
        author: Solen Guitter
        date: '2014-06-26 17:45'
        message: ''
        version: '45'
    - 
        author: Solen Guitter
        date: '2013-09-20 18:41'
        message: ''
        version: '44'
    - 
        author: Solen Guitter
        date: '2013-09-20 18:40'
        message: Removed obsolete information
        version: '43'
    - 
        author: Florent Guillaume
        date: '2013-02-14 16:48'
        message: ''
        version: '42'
    - 
        author: Florent Guillaume
        date: '2013-02-14 16:46'
        message: ''
        version: '41'
    - 
        author: Solen Guitter
        date: '2012-09-14 11:18'
        message: Migrated to Confluence 4.0
        version: '40'
    - 
        author: Solen Guitter
        date: '2012-09-14 11:18'
        message: ''
        version: '39'
    - 
        author: Florent Guillaume
        date: '2012-07-02 11:52'
        message: ''
        version: '38'
    - 
        author: Florent Guillaume
        date: '2012-06-20 16:11'
        message: Note that complex properties are not exposed.
        version: '37'
    - 
        author: Florent Guillaume
        date: '2012-02-01 16:31'
        message: ''
        version: '36'
    - 
        author: Florent Guillaume
        date: '2011-12-21 19:38'
        message: hg -> github
        version: '35'
    - 
        author: Florent Guillaume
        date: '2011-12-21 19:37'
        message: 'added 5.5 nuxeo:isCheckedIn and nuxeo:parentId'
        version: '34'
    - 
        author: Florent Guillaume
        date: '2011-07-18 15:34'
        message: ''
        version: '33'
    - 
        author: Florent Guillaume
        date: '2011-06-15 18:15'
        message: ''
        version: '32'
    - 
        author: Olivier Grisel
        date: '2011-04-29 12:12'
        message: ''
        version: '31'
    - 
        author: Olivier Grisel
        date: '2011-04-29 12:04'
        message: ''
        version: '30'
    - 
        author: Olivier Grisel
        date: '2011-04-29 12:04'
        message: ''
        version: '29'
    - 
        author: Olivier Grisel
        date: '2011-04-29 12:03'
        message: link to CMISQL from within Nuxeo
        version: '28'
    - 
        author: Olivier Grisel
        date: '2011-04-29 11:58'
        message: ''
        version: '27'
    - 
        author: Olivier Grisel
        date: '2011-04-27 22:43'
        message: ''
        version: '26'
    - 
        author: Olivier Grisel
        date: '2011-04-27 17:16'
        message: ''
        version: '25'
    - 
        author: Olivier Grisel
        date: '2011-04-27 17:14'
        message: format
        version: '24'
    - 
        author: Olivier Grisel
        date: '2011-04-27 17:11'
        message: added section on nuxeo specific system properties
        version: '23'
    - 
        author: Olivier Grisel
        date: '2011-04-19 15:37'
        message: ''
        version: '22'
    - 
        author: Florent Guillaume
        date: '2011-04-15 11:36'
        message: ''
        version: '21'
    - 
        author: Florent Guillaume
        date: '2011-04-15 11:24'
        message: ''
        version: '20'
    - 
        author: Florent Guillaume
        date: '2011-03-17 17:08'
        message: ''
        version: '19'
    - 
        author: Florent Guillaume
        date: '2011-03-17 17:01'
        message: doesn't belong here
        version: '18'
    - 
        author: Florent Guillaume
        date: '2011-03-15 14:16'
        message: ''
        version: '17'
    - 
        author: Julien Carsique
        date: '2011-03-04 14:30'
        message: add webengine admin url for cmis
        version: '16'
    - 
        author: Florent Guillaume
        date: '2011-02-25 15:32'
        message: ''
        version: '15'
    - 
        author: Florent Guillaume
        date: '2010-11-25 15:45'
        message: ''
        version: '14'
    - 
        author: Florent Guillaume
        date: '2010-11-09 19:54'
        message: Updated for OpenCMIS
        version: '13'
    - 
        author: Florent Guillaume
        date: '2010-10-23 15:49'
        message: ''
        version: '12'
    - 
        author: Jane Zupan
        date: '2010-10-22 22:17'
        message: ''
        version: '11'
    - 
        author: Florent Guillaume
        date: '2010-10-01 11:32'
        message: ''
        version: '10'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 22:54'
        message: ''
        version: '9'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 22:53'
        message: ''
        version: '8'
    - 
        author: Stéfane Fermigier
        date: '2010-07-22 22:53'
        message: ''
        version: '7'
    - 
        author: Florent Guillaume
        date: '2010-05-26 23:00'
        message: ''
        version: '6'
    - 
        author: Solen Guitter
        date: '2010-05-20 18:26'
        message: formatting and typos
        version: '5'
    - 
        author: Eric Barroca
        date: '2010-04-29 11:43'
        message: ''
        version: '4'
    - 
        author: Eric Barroca
        date: '2010-04-29 11:42'
        message: ''
        version: '3'
    - 
        author: Florent Guillaume
        date: '2010-04-28 14:49'
        message: ''
        version: '2'
    - 
        author: Admin name placeholder
        date: '2010-03-01 13:36'
        message: ''
        version: '1'

---
<div class="row"><div class="column medium-8">

[CMIS]({{page space='glos' page='cmis'}}) is the OASIS specification for content management interoperability. It allows client and servers to talk together in HTTP (SOAP or REST/AtomPub) using a unified domain model. The latest published version is [CMIS 1.1](http://docs.oasis-open.org/cmis/CMIS/v1.1/CMIS-v1.1.html).

## Status

Nuxeo supports CMIS through the following modules:

*   The [Apache Chemistry OpenCMIS](http://chemistry.apache.org/java/opencmis.html) library, maintained by Nuxeo and others, which is a general-purpose Java library allowing developers to easily write CMIS clients and servers,
*   Specific Nuxeo OpenCMIS connector bundles, allowing Nuxeo to be used as a CMIS server with the help of OpenCMIS.

## Versions

The Nuxeo OpenCMIS connector supports CMIS 1.1 starting with Nuxeo Platform 5.8.

## Online Demo

A demo server has been set up for you to try Nuxeo with CMIS. You can try it here: [http://cmis.demo.nuxeo.org/](http://cmis.demo.nuxeo.org/) (login: Administrator / password: Administrator).

The AtomPub service document is here: [http://cmis.demo.nuxeo.org/nuxeo/atom/cmis](http://cmis.demo.nuxeo.org/nuxeo/atom/cmis) (same credentials).
The SOAP WSDL for the repository service is here: [http://cmis.demo.nuxeo.org/nuxeo/webservices/cmis/RepositoryService?wsdl](http://cmis.demo.nuxeo.org/nuxeo/webservices/cmis/RepositoryService?wsdl)

## Downloads

The latest LTS and Fast Track releases include the CMIS connector by default. You can get them from here:
[http://nuxeo.com/downloads](http://nuxeo.com/downloads)

## Usage

Make sure that the Nuxeo server is started: check that there are no ERRORs in the startup logs and that you can normally connect to your server using a browser, at `<span class="nolink">http://localhost:8080/nuxeo</span>` .

</div><div class="column medium-4">{{#> panel heading='In this section'}}

&nbsp;

{{/panel}}</div></div>

### AtomPub

You can use a CMIS 1.1 AtomPub client and point it at `<span class="nolink">http://localhost:8080/nuxeo/atom/cmis</span>` .

If you want to check the AtomPub XML returned using the command line, this can be done using `curl` or `wget`:

```
curl -u Administrator:Administrator http://localhost:8080/nuxeo/atom/cmis

```

To do a query you can do:

```
curl -u Administrator:Administrator "http://localhost:8080/nuxeo/atom/cmis/default/query?q=SELECT+cmis:objectId,+dc:title+FROM+cmis:folder+WHERE+dc:title+=+'Workspaces'&searchAllVersions=true"

```

You should probably pipe this through `tidy` if you want a readable output:

```
... | tidy -q -xml -indent -wrap 999

```

{{#> callout type='note' }}

Since Nuxeo 5.5 the `searchAllVersions=true` part is mandatory if you want something equivalent to what you see in Nuxeo (which often contains mostly private working copies).

{{/callout}}

### SOAP

The following SOAP endpoints are available:

*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/RepositoryService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/DiscoveryService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/ObjectService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/NavigationService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/VersioningService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/RelationshipService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/MultiFilingService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/ACLService</span>
*   <span class="nolink">http://localhost:8080/nuxeo/webservices/cmis/PolicyService</span>

Note that most SOAP CMIS clients are configured by using just the first URL (the one about RepositoryService), the others are derived from it by changing the suffix.

Authentication is done using Web Services Security (WSS) UsernameToken.

Here is a working example of a SOAP message to the DiscoveryService:

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://docs.oasis-open.org/ns/cmis/messaging/200908/">
  <soapenv:Header>
    <Security xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <UsernameToken>
        <Username>Administrator</Username>
        <Password>Administrator</Password>
      </UsernameToken>
    </Security>
  </soapenv:Header>
  <soapenv:Body>
    <ns:query>
      <ns:repositoryId>default</ns:repositoryId>
      <ns:statement>SELECT cmis:objectid, dc:title FROM cmis:document WHERE dc:title = 'Workspaces'</ns:statement>
      <ns:maxItems>20</ns:maxItems>
      <ns:skipCount>0</ns:skipCount>
    </ns:query>
  </soapenv:Body>
</soapenv:Envelope>

```

### CMIS Clients

Several free clients for CMIS 1.1 are available.

The best one is the [CMIS Workbench](http://chemistry.apache.org/java/developing/tools/dev-tools-workbench.html), part of OpenCMIS.

And of course you can use the [Chemistry libraries](http://chemistry.apache.org/) to produce your own client (Java, Python, PHP, .NET). Documentation and sample for using OpenCMIS libraries can be found on the [OpenCMIS developer wiki](http://chemistry.apache.org/java/developing/index.html) with also [example code](http://chemistry.apache.org/java/examples/index.html) and [how-tos](http://chemistry.apache.org/java/how-to/index.html).

### From Java Code Within a Nuxeo Component

To create, delete or modify documents, folders and relations just use the regular `CoreSession` API of Nuxeo. To perform CMISQL queries (for instance to be able to perform `JOIN` that are not supported by the default `NXQL` query language, have a look at the following entry in the Knowledge Base: [Using CMISQL from Java]({{page space='nxdoc' page='using-cmisql-from-java'}}).

## Documentation

You can browse [the CMIS 1.1 HTML version](http://docs.oasis-open.org/cmis/CMIS/v1.0/cs01/cmis-spec-v1.0.html) or download [CMIS 1.1 (PDF)](http://docs.oasis-open.org/cmis/CMIS/v1.1/CMIS-v1.1.pdf) (1.3 MB).

## Capabilities {{> anchor 'capabilities'}}

The Nuxeo OpenCMIS connector implements the following capabilities from the specification:

<table><tbody><tr><td colspan="3">**Navigation Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Get descendants supported

</td><td colspan="1">

Yes

</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Get folder tree supported

</td><td colspan="1">

Yes

</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Order By supported</td><td colspan="1">Custom</td></tr><tr><td colspan="3">**Object Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Content stream updates</td><td colspan="1">PWC only</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Changes</td><td colspan="1">Object IDs only</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Renditions</td><td colspan="1">Read</td></tr><tr><td colspan="3">**Filing Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Multifiling supported</td><td colspan="1">No</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Unfiling supported

</td><td colspan="1">

No

</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Version-specific filing supported

</td><td colspan="1">

No

</td></tr><tr><td colspan="3">

**Versioning Capabilities**

</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">PWC updatable</td><td colspan="1">Yes</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">PWC searchable</td><td colspan="1">Yes</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">All versions searchable</td><td colspan="1">Yes</td></tr><tr><td colspan="3">**Query Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Query

</td><td colspan="1">

Both combined

</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

Joins

</td><td colspan="1">

Inner and outer

</td></tr><tr><td colspan="3">**Type Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">Create property types</td><td colspan="1">No</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">New type settable attributes</td><td colspan="1">None</td></tr><tr><td colspan="3">**ACL Capabilities**</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">

ACLs

</td><td colspan="1">

None

</td></tr></tbody></table>

## Model Mapping {{> anchor 'mapping'}}

The following describes how Nuxeo documents are mapped to CMIS objects and vice versa.

*   Only Nuxeo documents including the "dublincore" schema are visible in CMIS.
*   Complex properties are not visible in CMIS, as this notion does not exist in CMIS.
*   Proxy documents are not visible in CMIS.
*   Secondary content streams are not visible as renditions.
*   Documents in the Nuxeo trash (those whose `nuxeo:lifecycleState` is `deleted`) are not visible in CMIS, unless an explicit query using the `nuxeo:lifecycleState` property is done.

This mapping may change to be more comprehensive in future Nuxeo versions.

## Nuxeo-Specific System Properties

In addition to the system properties defined in the CMIS specification under the `**cmis:**` prefix, the Nuxeo Platform adds a couple of additional properties under the `**nuxeo:**` prefix:

### Since Nuxeo 5.4.2

*   `**nuxeo:isVersion**` : to distinguish between archived (read-only revision) and live documents (that can be edited);
*   `**nuxeo:lifecycleState**` : to access the life cycle state of a document: by default only document in non `deleted` state will be returned in CMISQL queries unless and explicit `**nuxeo:lifecycleState**` predicate is specified in the `WHERE` clause of the query;
*   `**nuxeo:secondaryObjectTypeIds**` : makes it possible to access the facets of a document. Those facet can be static (as defined in the type definitions) or dynamic (each document instance can have declared facets);
*   `**nuxeo:contentStreamDigest**` : the low level, MD5 or SHA1 digest of blobs stored in the repository. The algorithm used to compute the digest is dependent on the configuration of the `**BinaryManager**` component of the Nuxeo repository.

`**nuxeo:isVersion**` , `**nuxeo:lifecycleState**` and `**nuxeo:secondaryObjectTypeIds**` are properties that can be queried upon: they can be used in the `WHERE` clause of a CMISQL query. This is not yet the case for `**nuxeo:contentStreamDigest**` that can only be read in query results or by introspecting the properties of the `ObjectData` description of a document.

### Since Nuxeo 5.5

*   `**nuxeo:isCheckedIn**` : for live documents, distinguishes between the checked-in and checked-out state.
*   `**nuxeo:parentId**` : like `cmis:parentId` but also available on Document objects (which is possible because Nuxeo does not have direct multi-filing).

### Since Nuxeo 5.6

*   **`nuxeo:pathSegment`** : the last path segment of the document (`ecm:name` in NXQL).

## Source Code

The Nuxeo OpenCMIS connector source code is available on GitHub: [https://github.com/nuxeo/nuxeo-chemistry](https://github.com/nuxeo/nuxeo-chemistry).

The Apache Chemistry OpenCMIS source code is available on Apache's Subversion server: [https://svn.apache.org/repos/asf/chemistry/opencmis/trunk](https://svn.apache.org/repos/asf/chemistry/opencmis/trunk).

## Additional Resources

*   [CMIS: Overview of a Rapidly Evolving ECM Standard](http://www.slideshare.net/nuxeo/cmis-overview), presentation on SlideShare
*   [CMIS and Apache Chemistry (ApacheCon 2010)](http://www.slideshare.net/efge/cmis-and-apache-chemistry-apachecon-2010), presentation on SlideShare
*   [Nuxeo World Session: CMIS - What's Next?](http://www.slideshare.net/nuxeo/nuxeo-world-session-cmis-whats-next), presentation on SlideShare